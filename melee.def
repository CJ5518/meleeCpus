BootStrap: docker
From: ubuntu:20.04

%post
    export DEBIAN_FRONTEND=noninteractive
	cd /
    apt-get -y update
    apt-get -y install make gcc g++ git libreadline-dev cmake libgtk-3-dev python3 python3-pip libevdev-dev libudev-dev libusb-dev libusb-1.0-0-dev
    unset DEBIAN_FRONTEND
    git clone https://github.com/wxWidgets/wxWidgets
    cd wxWidgets
	git submodule update --init --recursive
    mkdir buildgtk
    cd buildgtk
    ../configure
    make -j4
    make install
    make clean
    ldconfig
	cd /
    git clone https://github.com/vladfi1/slippi-Ishiiruka
	cd slippi-Ishiiruka
	git fetch
	git checkout remotes/origin/exi-ai
	./build-linux.sh
	pip3 install melee
    echo "From here you need to edit the installation of pythons melee"